from exploit_scripts import *

from ictf.client import Team
import time

token = "INSERT TOKEN HERE"
email = "INSERT EMAIL HERE"

team = Team(token, email)

#Gets a list of all services in the game
all_services = team.get_service_list()

for service in all_services:
	#List of all targets with a specific service
	targets_with_service = team.get_targets(service)

	service_exploit = get_exploit(service)

	#If the exploit exists then for Loop
	if(service_exploit):
		for target in targets_with_service:
			flag_id = target["flag_id"]
			ip      = target["ip"]
			service_exploit.exploit(ip, service_exploit.get_port() , flag_id)


exploits = get_all_exploits()
while(True):
	time.sleep(1)

	#

	for exp_inst in exploits:
		exp_inst.exploit(ip="192.168.2.1",port="80",flag_id="1xoijaAgGz")



